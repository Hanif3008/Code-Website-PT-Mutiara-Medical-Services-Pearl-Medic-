<div class="pelayanan_admin_section">
  <div class="pelayanan_dashboard_wrapper">
    <div class="PAdmin_left">
      <div class="Padmin_title">
        <h1>Detail<span> RS Mitra</span></h1>
      </div>
      <div class="Padmin_pelayananmasuk">
        <div class="Padmin_pelayananmasuk_wrapper">
          <form action="" class="edit-profile-perusahaan">
            <div class="Padmin_pelayananmasuk_pic">
              <img src="/img/<%= RSData.photo_rs %>" alt="" />
            </div>
            <div class="Padmin_pelayananmasuk_data">
              <div class="Padmin_pelayananmasuk_datamenu">
                <h3>Nama Rumah Sakit</h3>
                <p><i class="fa-solid fa-hospital"></i><%= RSData.nama_rs %></p>
              </div>
              <div class="Padmin_pelayananmasuk_datamenu">
                <h3>Email</h3>
                <p><i class="fa-solid fa-envelope"></i><%= RSData.email_rs %></p>
              </div>
              <div class="Padmin_pelayananmasuk_datamenu">
                <h3>Nomor Telepon</h3>
                <p><i class="fa-solid fa-square-phone"></i><%= RSData.nomortelepon_rs %></p>
              </div>
              <div class="Padmin_pelayananmasuk_datamenu">
                <h3>Status</h3>
                <p id="<%= RSData.status_rs === 1 ? 'greens' : 'red' %>" class="status-pelayanan"><%= RSData.status_rs === 1 ? 'Akun Aktif' : 'Tidak Aktif' %></p>
              </div>
            </div>
            <div class="Padmin_pelayananmasuk_catatan">
              <h2>Alamat Lengkap</h2>
              <p><i class="fa-solid fa-map-location-dot" style="color: var(--primary-color); margin-right: 10px"></i><%= RSData.alamat_rs %></p>
            </div>
            <div class="edit-all-button">
              <div class="edit-menu-button">
                <a href="/EditDetailRS_admin/<%= RSData.id_rs %>">Edit Data</a>
              </div>
              <div class="back-menu-button">
                <a href="#" id="deleteButton">Hapus</a>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="Padmin_notifikasi_obatvaksin_responsive" id="none">
        <div class="Padmin_notifikasi_obatvaksin">
          <div class="Padmin_notifikasi_title">
            <h2>Stok<span>Obat</span></h2>
          </div>
          <div class="Padmin_stok_obatvaksin">
            <a href="/StokObat_admin">Lihat Stok Obat</a>
          </div>
        </div>
        <div class="Padmin_notifikasi_obatvaksin">
          <div class="Padmin_notifikasi_title">
            <h2>Stok<span>Vaksin</span></h2>
          </div>
          <div class="Padmin_stok_obatvaksin">
            <a href="/StokVaksin_admin">Lihat Stok Vaksin</a>
          </div>
        </div>
      </div>
    </div>
    <div class="PAdmin_right">
      <div class="Padmin_notifikasi_wrapper">
          <div class="Padmin_notifikasi_obatvaksin">
            <div class="Padmin_notifikasi_title">
              <h2>Stok<span>Obat</span></h2>
            </div>
            <div class="Padmin_stok_obatvaksin">
              <a href="/StokObat_admin">Lihat Stok Obat</a>
            </div>
          </div>
          <div class="Padmin_notifikasi_obatvaksin">
            <div class="Padmin_notifikasi_title">
              <h2>Stok<span>Vaksin</span></h2>
            </div>
            <div class="Padmin_stok_obatvaksin">
              <a href="/StokVaksin_admin">Lihat Stok Vaksin</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  document.querySelector(".Padmin_pelayananmasuk_pic").addEventListener("click", function () {
    document.getElementById("fileInput").click();
  });

  document.getElementById("fileInput").addEventListener("change", function (event) {
    const reader = new FileReader();
    reader.onload = function () {
      document.getElementById("profilePic").src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  });
</script>
<script>
  document.getElementById("deleteButton").addEventListener("click", function (event) {
    event.preventDefault();
    if (confirm("Anda yakin ingin menghapus data tersebut?")) {
      const id_rs = "<%= RSData.id_rs %>";

      fetch(`/DetailRS_admin/${id_rs}`, {
        method: "DELETE",
        headers: {
          "Content-Type": "application/json",
        },
      })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            alert(data.message);
            window.location.href = "/LRs_admin"; // Redirect to an appropriate page after deletion
          } else {
            alert("Failed to delete data");
          }
        })
        .catch((error) => {
          console.error("Error:", error);
          alert("An error occurred while deleting the data");
        });
    }
  });
</script>
